<?xml version="1.0" encoding="UTF-8"?> 
<launch>
  <arg name="left_tag_x" default="0" />
  <arg name="left_tag_y" default="0.28575" />
  <arg name="right_tag_x" default="0" />
  <arg name="right_tag_y" default="-0.28575" />

  <!--node pkg="amr_x_communication" type="serial_node.py" name="serial_node" output="screen">
    <param name="port" value="/dev/ttyUSB0"/>
    <param name="baud" value="115200"/>
    <param name="fix_pyserial_for_test" value="False"/>
  </node-->

  <node pkg="amr_x_communication" type="localization.py" name="localization_node" output="screen">
    <param name="robot_number" value="1"/>

    <param name="left_tag_pos_x" value="$(arg left_tag_x)"/>
    <param name="left_tag_pos_y" value="$(arg left_tag_y)"/>
    <param name="right_tag_pos_x" value="$(arg right_tag_x)"/>
    <param name="right_tag_pos_y" value="$(arg right_tag_y)"/>

    <param name="frequency" value="15"/>
    <param name="alpha" value="1"/>
    <param name="noise" value="0.001"/>
    <param name="protocol" value="fast"/>
  </node>

  <node name="left_tag_link" pkg="tf" type="static_transform_publisher" args="$(arg left_tag_x) $(arg left_tag_y) 0 0 0 0 world left_tag_link 10"/>
  <node name="right_tag_link" pkg="tf" type="static_transform_publisher" args="$(arg right_tag_x) $(arg right_tag_y) 0 0 0 0 world right_tag_link 10"/>

</launch>
